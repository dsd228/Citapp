<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privado | Conexiones Exclusivas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Todos los estilos CSS originales aquí */
        :root {
            --primary: #6366F1;
            --primary-dark: #4F46E5;
            --secondary: #8B5CF6;
            --accent: #EC4899;
            --success: #10B981;
            --warning: #F59E0B;
            --danger: #EF4444;
            --dark: #0F172A;
            --darker: #020617;
            --gray: #64748B;
            --light: #F8FAFC;
            --border: #334155;
            --card-bg: rgba(15, 23, 42, 0.85);
            --header-gradient: linear-gradient(135deg, #0f172a, #1e293b);
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--header-gradient);
            color: var(--light);
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }
        
        /* ... (todos los demás estilos) ... */
        
        .profile-swipe-last-active {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 0.25rem;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- Loading Spinner -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast">
        <span id="toastMessage">Mensaje de ejemplo</span>
        <div id="toastClose" class="toast-close">&times;</div>
    </div>

    <!-- Header -->
    <header class="bg-transparent absolute top-0 left-0 right-0 z-50">
        <div class="max-w-md mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center glow-effect">
                        <i class="fas fa-lock text-white"></i>
                    </div>
                    <h1 class="text-2xl font-bold text-white logo-text">Privado</h1>
                </div>
                <div class="flex items-center space-x-3">
                    <button id="notificationsBtn" class="p-2 text-gray-300 hover:text-white relative">
                        <i class="fas fa-bell text-lg"></i>
                        <span id="notificationCount" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                    </button>
                    <button id="profileBtn" class="p-2 text-gray-300 hover:text-white">
                        <i class="fas fa-user text-lg"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-md mx-auto pt-24 pb-20 px-4">
        <!-- Hero Section -->
        <section class="text-center mb-8">
            <h2 class="text-3xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">Conexiones Exclusivas</h2>
            <p class="text-gray-400 mb-6">Encuentra personas compatibles con tus intereses y preferencias en un entorno seguro y privado.</p>
            <div class="flex justify-center space-x-2 mb-6">
                <div class="privacy-badge">
                    <i class="fas fa-shield-alt"></i> Privacidad Garantizada
                </div>
                <div class="privacy-badge">
                    <i class="fas fa-user-secret"></i> Perfiles Verificados
                </div>
            </div>
        </section>

        <!-- Navigation Tabs -->
        <div class="flex bg-gray-900/50 backdrop-blur-sm rounded-xl p-1 mb-6">
            <button id="tabDiscover" class="tab-active flex-1 py-3 px-4 text-sm font-medium rounded-lg flex items-center justify-center space-x-1">
                <i class="fas fa-compass"></i>
                <span>Descubrir</span>
            </button>
            <button id="tabMatches" class="tab-inactive flex-1 py-3 px-4 text-sm font-medium rounded-lg flex items-center justify-center space-x-1">
                <i class="fas fa-heart"></i>
                <span>Matches</span>
            </button>
            <button id="tabMessages" class="tab-inactive flex-1 py-3 px-4 text-sm font-medium rounded-lg flex items-center justify-center space-x-1">
                <i class="fas fa-comments"></i>
                <span>Mensajes</span>
            </button>
            <button id="tabProfile" class="tab-inactive flex-1 py-3 px-4 text-sm font-medium rounded-lg flex items-center justify-center space-x-1">
                <i class="fas fa-user"></i>
                <span>Perfil</span>
            </button>
        </div>

        <!-- Discover Tab Content -->
        <div id="discoverContent" class="space-y-6">
            <!-- Profile Card -->
            <div class="card glow-effect">
                <div class="swipe-container">
                    <div class="swipe-card">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Perfil" class="profile-img">
                        <div class="distance-badge">
                            <i class="fas fa-location-dot mr-1"></i> 1.2 km
                        </div>
                        <div class="online-dot"></div>
                        <div class="premium-tag">
                            <i class="fas fa-crown"></i> Premium
                        </div>
                        <div class="verified-tag">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="match-indicator">
                            <i class="fas fa-heart"></i> Match
                        </div>
                        <div class="p-4">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="text-xl font-bold">Alex, 28</h3>
                            </div>
                            <p class="text-gray-400 mb-3">Ingeniero de software apasionado por el fitness y los viajes.</p>
                            
                            <div class="mb-3">
                                <div class="text-sm text-gray-400 mb-1">Compatibilidad</div>
                                <div class="match-percentage">
                                    <div class="match-percentage-fill" style="width: 85%;"></div>
                                </div>
                                <div class="text-sm text-green-400">85% de compatibilidad</div>
                            </div>
                            
                            <div class="flex flex-wrap mb-3">
                                <span class="badge badge-primary">Bears</span>
                                <span class="badge badge-success">Activo</span>
                                <span class="badge badge-warning">Anal</span>
                                <span class="badge badge-accent">Sadomaso</span>
                            </div>
                            
                            <p class="text-sm text-gray-400">"Busco conexiones reales y momentos especiales sin compromisos."</p>
                        </div>
                    </div>
                </div>
                
                <div class="swipe-controls">
                    <button class="swipe-btn dislike">
                        <i class="fas fa-times"></i>
                    </button>
                    <button class="swipe-btn super-like pulse">
                        <i class="fas fa-star"></i>
                    </button>
                    <button class="swipe-btn like">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
            </div>

            <!-- Gallery Section -->
            <div class="card">
                <div class="p-4">
                    <h3 class="text-lg font-semibold mb-4">Galería de Fotos</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1519750783826-e2420f4d687f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=300&q=80" alt="Foto 1">
                            <div class="private-overlay">
                                <div>
                                    <i class="fas fa-lock"></i>
                                    <span>Privado</span>
                                </div>
                            </div>
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=300&q=80" alt="Foto 2">
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=300&q=80" alt="Foto 3">
                            <div class="private-overlay">
                                <div>
                                    <i class="fas fa-lock"></i>
                                    <span>Privado</span>
                                </div>
                            </div>
                        </div>
                        <div class="gallery-item">
                            <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=300&q=80" alt="Foto 4">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Premium Features -->
            <div class="card">
                <div class="p-4">
                    <h3 class="text-lg font-semibold mb-4">Funciones Premium</h3>
                    
                    <div class="premium-feature">
                        <i class="fas fa-crown"></i> <strong>Desbloquea todas las funciones</strong>
                    </div>
                    
                    <div class="space-y-3 mt-4">
                        <div class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>Ver quién te ha dado like</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>Mensajes ilimitados</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>Filtros avanzados</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>Perfil destacado</span>
                        </div>
                        <div class="feature-item">
                            <i class="fas fa-check-circle feature-icon"></i>
                            <span>Análisis de compatibilidad</span>
                        </div>
                    </div>
                    
                    <button id="upgradeBtn" class="btn-primary w-full mt-4">
                        <i class="fas fa-crown mr-2"></i> Actualizar a Premium - $9.99/mes
                    </button>
                </div>
            </div>
        </div>

        <!-- Matches Tab Content (Hidden by default) -->
        <div id="matchesContent" class="space-y-4" style="display: none;">
            <!-- Los matches se cargarán dinámicamente -->
        </div>

        <!-- Messages Tab Content (Hidden by default) -->
        <div id="messagesContent" class="space-y-4" style="display: none;">
            <!-- Los mensajes se cargarán dinámicamente -->
        </div>

        <!-- Profile Tab Content (Hidden by default) -->
        <div id="profileContent" class="space-y-6" style="display: none;">
            <!-- El perfil se cargará dinámicamente -->
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-gray-900/80 backdrop-blur-sm border-t border-gray-800 z-40">
        <div class="max-w-md mx-auto">
            <div class="flex">
                <button id="navDiscover" class="flex-1 py-4 text-center text-purple-400 flex flex-col items-center">
                    <i class="fas fa-compass text-lg mb-1"></i>
                    <span class="text-xs">Descubrir</span>
                </button>
                <button id="navMatches" class="flex-1 py-4 text-center text-gray-400 flex flex-col items-center">
                    <i class="fas fa-heart text-lg mb-1"></i>
                    <span class="text-xs">Matches</span>
                </button>
                <button id="navMessages" class="flex-1 py-4 text-center text-gray-400 flex flex-col items-center">
                    <i class="fas fa-comments text-lg mb-1"></i>
                    <span class="text-xs">Mensajes</span>
                </button>
                <button id="navProfile" class="flex-1 py-4 text-center text-gray-400 flex flex-col items-center">
                    <i class="fas fa-user text-lg mb-1"></i>
                    <span class="text-xs">Perfil</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content subscription-modal">
            <span class="close">&times;</span>
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-lock text-white text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-white mb-2">Crea tu Perfil</h2>
                <p class="text-gray-300">Completa tu perfil para conectar con personas compatibles</p>
            </div>
            
            <form id="profileForm">
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2" for="name">
                        Nombre
                    </label>
                    <input class="form-control" id="name" type="text" placeholder="Tu nombre" required>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2" for="email">
                        Correo electrónico
                    </label>
                    <input class="form-control" id="email" type="email" placeholder="tu@email.com" required>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2" for="age">
                        Edad
                    </label>
                    <select id="age" class="form-control" required>
                        <option value="">Selecciona tu edad</option>
                        <option value="18-25">18-25</option>
                        <option value="26-35">26-35</option>
                        <option value="36-45">36-45</option>
                        <option value="46-55">46-55</option>
                        <option value="56+">56+</option>
                    </select>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2">
                        Género
                    </label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="genero" value="Hombre"> Hombre
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="genero" value="Transexual"> Transexual
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="genero" value="No binario"> No binario
                        </label>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2">
                        Rol
                    </label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="rol" value="Pasivo"> Pasivo
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="rol" value="Activo"> Activo
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="rol" value="Versátil"> Versátil
                        </label>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2">
                        Tribus
                    </label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="tribu" value="Bears"> Bears
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="tribu" value="Leather"> Leather
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="tribu" value="Twink"> Twink
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="tribu" value="Jock"> Jock
                        </label>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2">
                        Preferencias
                    </label>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="preferencia" value="Anal"> Anal
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="preferencia" value="Oral"> Oral
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="preferencia" value="Masturbación"> Masturbación
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="preferencia" value="Sadomaso"> Sadomaso
                        </label>
                    </div>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2">
                        Foto de perfil
                    </label>
                    <div class="upload-avatar" id="avatarUpload">
                        <i class="fas fa-camera"></i>
                        <input type="file" id="avatarInput" accept="image/*" class="hidden">
                    </div>
                </div>
                
                <div class="mb-6">
                    <label class="block text-gray-300 text-sm font-bold mb-2" for="bio">
                        Sobre mí (opcional)
                    </label>
                    <textarea id="bio" class="form-control" rows="3" placeholder="Cuéntanos sobre ti..."></textarea>
                </div>
                
                <button type="submit" class="btn-primary w-full">
                    <i class="fas fa-user-plus mr-2"></i> Crear Perfil
                </button>
            </form>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="modal">
        <div class="modal-content subscription-modal">
            <span class="close">&times;</span>
            <div class="text-center mb-6">
                <div id="profileModalAvatar" class="w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mx-auto mb-4 flex items-center justify-center text-white text-3xl font-bold">
                    A
                </div>
                <h2 id="profileModalName" class="text-2xl font-bold text-white">Alex, 28</h2>
                <p id="profileModalProfession" class="text-gray-300">Ingeniero de software</p>
                <div class="flex justify-center space-x-2 mt-2">
                    <div id="profileModalPremium" class="premium-tag">
                        <i class="fas fa-crown"></i> Premium
                    </div>
                    <div id="profileModalVerified" class="verified-tag">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
            </div>
            
            <div class="space-y-4">
                <div class="bg-gray-800/70 backdrop-blur-sm rounded-xl p-4">
                    <h3 class="font-semibold text-white mb-3">Información</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-400">Ubicación:</span>
                            <span id="profileModalLocation" class="text-white">Madrid, España</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Últ. conexión:</span>
                            <span id="profileModalLastActive" class="text-white">Hace 10 minutos</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Miembro desde:</span>
                            <span id="profileModalMemberSince" class="text-white">Ene 2023</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-800/70 backdrop-blur-sm rounded-xl p-4">
                    <h3 class="font-semibold text-white mb-3">Intereses</h3>
                    <div id="profileModalInterests" class="flex flex-wrap gap-2">
                        <span class="badge badge-primary">Tecnología</span>
                        <span class="badge badge-success">Fitness</span>
                        <span class="badge badge-warning">Viajes</span>
                        <span class="badge badge-accent">Cine</span>
                    </div>
                </div>
                
                <div class="bg-gray-800/70 backdrop-blur-sm rounded-xl p-4">
                    <h3 class="font-semibold text-white mb-3">Galería</h3>
                    <div class="grid grid-cols-3 gap-2">
                        <img src="https://images.unsplash.com/photo-1519750783826-e2420f4d687f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" alt="Foto 1" class="w-full h-20 object-cover rounded">
                        <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" alt="Foto 2" class="w-full h-20 object-cover rounded">
                        <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" alt="Foto 3" class="w-full h-20 object-cover rounded">
                    </div>
                </div>
                
                <div class="flex space-x-2">
                    <button id="messageBtn" class="btn-primary flex-1">
                        <i class="fas fa-comment mr-2"></i> Mensaje
                    </button>
                    <button id="likeBtn" class="btn-outline">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Upgrade Modal -->
    <div id="upgradeModal" class="modal">
        <div class="modal-content subscription-modal">
            <span class="close">&times;</span>
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-crown text-white text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-white mb-2">Actualiza a Premium</h2>
                <p class="text-gray-300">Desbloquea todas las funciones exclusivas</p>
            </div>
            
            <div class="space-y-4 mb-6">
                <div class="premium-feature">
                    <i class="fas fa-crown"></i> <strong>Beneficios Premium</strong>
                </div>
                
                <div class="space-y-3">
                    <div class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>Ver quién te ha dado like</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>Mensajes ilimitados</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>Filtros avanzados</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>Perfil destacado</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>Análisis de compatibilidad</span>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>Soporte prioritario</span>
                    </div>
                </div>
                
                <div class="bg-gray-800/70 backdrop-blur-sm rounded-xl p-4">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-gray-300">Plan Mensual</span>
                        <span class="text-2xl font-bold text-white">$9.99/mes</span>
                    </div>
                    <p class="text-sm text-gray-400">Cancela en cualquier momento</p>
                </div>
                
                <div class="trial-badge">
                    <i class="fas fa-gift"></i> <span class="trial-days">7 días gratis</span> de prueba
                </div>
            </div>
            
            <button id="startTrialBtn" class="btn-success w-full mb-3">
                <i class="fas fa-gift mr-2"></i> Comenzar prueba gratuita de 7 días
            </button>
            
            <button id="confirmUpgrade" class="btn-primary w-full">
                <i class="fas fa-credit-card mr-2"></i> Suscribirse por $9.99/mes
            </button>
            
            <p class="text-xs text-gray-400 text-center mt-4">
                Tu prueba gratuita comenzará ahora. Después de 7 días, se te cobrará $9.99/mes. Puedes cancelar en cualquier momento.
            </p>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content subscription-modal">
            <span class="close">&times;</span>
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-credit-card text-white text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-white mb-2">Información de Pago</h2>
                <p class="text-gray-300">Ingresa tus datos de tarjeta para completar la suscripción</p>
            </div>
            
            <form id="paymentForm">
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2" for="cardName">
                        Nombre en la tarjeta
                    </label>
                    <input class="form-control" id="cardName" type="text" placeholder="Nombre completo" required>
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2" for="cardNumber">
                        Número de tarjeta
                    </label>
                    <input class="form-control card-number" id="cardNumber" type="text" placeholder="XXXX XXXX XXXX XXXX" required>
                </div>
                
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-gray-300 text-sm font-bold mb-2" for="expiryDate">
                        Fecha de vencimiento
                    </label>
                    <input class="form-control" id="expiryDate" type="text" placeholder="MM/AA" required>
                    </div>
                    <div>
                        <label class="block text-gray-300 text-sm font-bold mb-2" for="cvv">
                        CVV
                    </label>
                    <input class="form-control" id="cvv" type="text" placeholder="XXX" required>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label class="block text-gray-300 text-sm font-bold mb-2" for="postalCode">
                        Código postal
                    </label>
                    <input class="form-control" id="postalCode" type="text" placeholder="Código postal" required>
                </div>
                
                <div class="bg-gray-800/70 backdrop-blur-sm rounded-xl p-4 mb-6">
                    <div class="flex justify-between items-center">
                        <span class="text-gray-300">Plan Mensual</span>
                        <span class="text-2xl font-bold text-white">$9.99/mes</span>
                    </div>
                </div>
                
                <button type="submit" class="btn-primary w-full">
                    <i class="fas fa-lock mr-2"></i> Pagar y activar Premium
                </button>
                
                <div class="flex justify-center mt-4 space-x-4">
                    <i class="fab fa-cc-visa text-3xl text-blue-600"></i>
                    <i class="fab fa-cc-mastercard text-3xl text-red-600"></i>
                    <i class="fab fa-cc-amex text-3xl text-blue-800"></i>
                </div>
            </form>
        </div>
    </div>

    <!-- Incognito Modal -->
    <div id="incognitoModal" class="modal">
        <div class="modal-content subscription-modal">
            <span class="close">&times;</span>
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-user-secret text-white text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-white mb-2">Modo Incógnito</h2>
                <p class="text-gray-300">Activa el modo incógnito para navegar de forma anónima</p>
            </div>
            
            <div class="space-y-4 mb-6">
                <div class="bg-gray-800/70 backdrop-blur-sm rounded-xl p-4">
                    <h3 class="font-semibold text-white mb-3">¿Qué hace el modo incógnito?</h3>
                    <div class="space-y-2 text-sm text-gray-300">
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-400 mr-2"></i>
                            <span>No aparecerás en las búsquedas de otros usuarios</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-400 mr-2"></i>
                            <span>No se mostrará tu ubicación</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-400 mr-2"></i>
                            <span>Tus visitas a perfiles no serán registradas</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-check-circle text-green-400 mr-2"></i>
                            <span>Solo podrás ver a otros usuarios si ellos también están en modo incógnito</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-yellow-900/30 border border-yellow-700 rounded-xl p-4">
                    <div class="flex items-start">
                        <i class="fas fa-exclamation-triangle text-yellow-500 mr-2 mt-0.5"></i>
                        <div>
                            <h4 class="font-semibold text-yellow-400">Importante</h4>
                            <p class="text-sm text-yellow-300">El modo incógnito solo está disponible para usuarios Premium</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <button id="upgradeForIncognito" class="btn-primary w-full">
                <i class="fas fa-crown mr-2"></i> Actualizar a Premium para usar modo incógnito
            </button>
        </div>
    </div>

    <!-- Notifications Modal -->
    <div id="notificationsModal" class="modal">
        <div class="modal-content subscription-modal">
            <span class="close">&times;</span>
            <h2 class="text-2xl font-bold text-white mb-6">Notificaciones</h2>
            
            <div id="notificationsList" class="space-y-3">
                <!-- Las notificaciones se cargarán dinámicamente -->
            </div>
        </div>
    </div>

    <!-- Heart Animation -->
    <div id="heartAnimation" class="heart-animation">
        <i class="fas fa-heart"></i>
    </div>

    <script>
        // Variables de estado
        let currentUser = null;
        let users = [];
        let matches = [];
        let messages = [];
        let notifications = [];
        let selectedPhotos = [];
        let currentTab = 'discover';
        let isIncognitoMode = false;

        // Elementos del DOM
        const loginModal = document.getElementById('loginModal');
        const profileModal = document.getElementById('profileModal');
        const upgradeModal = document.getElementById('upgradeModal');
        const paymentModal = document.getElementById('paymentModal');
        const incognitoModal = document.getElementById('incognitoModal');
        const notificationsModal = document.getElementById('notificationsModal');
        const heartAnimation = document.getElementById('heartAnimation');
        const avatarUpload = document.getElementById('avatarUpload');
        const avatarInput = document.getElementById('avatarInput');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');
        const toastClose = document.getElementById('toastClose');
        const loading = document.getElementById('loading');

        // Inicializar la aplicación
        function initApp() {
            loadDataFromStorage();
            checkIfUserExists();
            setupEventListeners();
            generateMockData();
        }

        // Cargar datos desde localStorage
        function loadDataFromStorage() {
            const savedUser = localStorage.getItem('currentUser');
            const savedUsers = localStorage.getItem('users');
            const savedMatches = localStorage.getItem('matches');
            const savedMessages = localStorage.getItem('messages');
            const savedNotifications = localStorage.getItem('notifications');

            if (savedUser) currentUser = JSON.parse(savedUser);
            if (savedUsers) users = JSON.parse(savedUsers);
            if (savedMatches) matches = JSON.parse(savedMatches);
            if (savedMessages) messages = JSON.parse(savedMessages);
            if (savedNotifications) notifications = JSON.parse(savedNotifications);
        }

        // Guardar datos en localStorage
        function saveDataToStorage() {
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('matches', JSON.stringify(matches));
            localStorage.setItem('messages', JSON.stringify(messages));
            localStorage.setItem('notifications', JSON.stringify(notifications));
        }

        // Verificar si existe un usuario
        function checkIfUserExists() {
            if (!currentUser) {
                showLoading();
                setTimeout(() => {
                    hideLoading();
                    loginModal.style.display = 'block';
                }, 1000);
            } else {
                updateInterface();
            }
        }

        // Configurar event listeners
        function setupEventListeners() {
            // Navegación entre pestañas
            document.getElementById('navDiscover').addEventListener('click', () => showTab('discover'));
            document.getElementById('navMatches').addEventListener('click', () => showTab('matches'));
            document.getElementById('navMessages').addEventListener('click', () => showTab('messages'));
            document.getElementById('navProfile').addEventListener('click', () => showTab('profile'));

            // Botones de acción
            document.getElementById('profileBtn').addEventListener('click', () => {
                if (!currentUser) {
                    loginModal.style.display = 'block';
                    return;
                }
                profileModal.style.display = 'block';
            });

            document.getElementById('notificationsBtn').addEventListener('click', () => {
                notificationsModal.style.display = 'block';
                loadNotifications();
            });

            document.getElementById('upgradeBtn').addEventListener('click', () => {
                upgradeModal.style.display = 'block';
            });

            // Cerrar modales
            document.querySelectorAll('.close').forEach(closeBtn => {
                closeBtn.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    modal.style.display = 'none';
                });
            });

            // Cerrar modal al hacer clic fuera
            window.addEventListener('click', (event) => {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                }
            });

            // Formulario de perfil
            document.getElementById('profileForm').addEventListener('submit', handleProfileSubmit);

            // Subir foto de perfil
            avatarUpload.addEventListener('click', () => avatarInput.click());
            avatarInput.addEventListener('change', handleAvatarUpload);

            // Animación de corazón al dar like
            document.querySelector('.swipe-btn.like').addEventListener('click', handleLike);
            document.querySelector('.swipe-btn.super-like').addEventListener('click', handleSuperLike);

            // Suscripción
            document.getElementById('startTrialBtn').addEventListener('click', startTrial);
            document.getElementById('confirmUpgrade').addEventListener('click', confirmUpgrade);
            document.getElementById('paymentForm').addEventListener('submit', handlePayment);

            // Toast close button
            toastClose.addEventListener('click', () => toast.className = 'toast');
        }

        // Mostrar loading
        function showLoading() {
            loading.style.display = 'flex';
        }

        // Ocultar loading
        function hideLoading() {
            loading.style.display = 'none';
        }

        // Mostrar toast
        function showToast(message, type = 'info') {
            toastMessage.textContent = message;
            toast.className = `toast toast-${type} show`;
            
            setTimeout(() => {
                toast.className = 'toast';
            }, 3000);
        }

        // Generar datos de ejemplo
        function generateMockData() {
            if (users.length === 0) {
                users = [
                    {
                        id: '1',
                        name: 'Alex',
                        age: 28,
                        profession: 'Ingeniero de software',
                        location: 'Madrid, España',
                        bio: 'Apasionado por el fitness y los viajes. Busco conexiones reales sin compromisos.',
                        photos: [
                            'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80',
                            'https://images.unsplash.com/photo-1519750783826-e2420f4d687f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80',
                            'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80'
                        ],
                        interests: ['Tecnología', 'Fitness', 'Viajes', 'Cine'],
                        matches: 85,
                        isPremium: true,
                        isVerified: true,
                        lastActive: new Date()
                    },
                    {
                        id: '2',
                        name: 'Carlos',
                        age: 31,
                        profession: 'Diseñador UX/UI',
                        location: 'Barcelona, España',
                        bio: 'Amante del arte y la música. Busco experiencias memorables con personas afines.',
                        photos: [
                            'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80',
                            'https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80',
                            'https://images.unsplash.com/photo-1507078662446-d5762f42996f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80'
                        ],
                        interests: ['Diseño', 'Arte', 'Música', 'Café'],
                        matches: 72,
                        isPremium: false,
                        isVerified: true,
                        lastActive: new Date(Date.now() - 30 * 60 * 1000) // 30 minutos atrás
                    }
                ];
                saveDataToStorage();
            }

            if (notifications.length === 0) {
                notifications = [
                    {
                        id: '1',
                        type: 'superlike',
                        from: 'Alex',
                        avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80',
                        message: 'te dio "Super Like"',
                        time: 'Hace 2 minutos',
                        read: false
                    },
                    {
                        id: '2',
                        type: 'message',
                        from: 'Carlos',
                        avatar: 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80',
                        message: 'inició una conversación',
                        time: 'Hace 15 minutos',
                        read: false
                    },
                    {
                        id: '3',
                        type: 'match',
                        from: 'Daniel',
                        avatar: 'https://images.unsplash.com/photo-1519750783826-e2420f4d687f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80',
                        message: 'te ha agregado a sus favoritos',
                        time: 'Hace 1 hora',
                        read: false
                    }
                ];
                saveDataToStorage();
            }
        }

        // Manejar envío del formulario de perfil
        function handleProfileSubmit(e) {
            e.preventDefault();
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const age = document.getElementById('age').value;
            const bio = document.getElementById('bio').value;
            
            // Obtener intereses seleccionados
            const genero = Array.from(document.querySelectorAll('input[name="genero"]:checked')).map(cb => cb.value);
            const rol = Array.from(document.querySelectorAll('input[name="rol"]:checked')).map(cb => cb.value);
            const tribu = Array.from(document.querySelectorAll('input[name="tribu"]:checked')).map(cb => cb.value);
            const preferencia = Array.from(document.querySelectorAll('input[name="preferencia"]:checked')).map(cb => cb.value);
            
            // Validaciones
            if (name.trim() === '') {
                showToast('Por favor ingresa tu nombre', 'error');
                return;
            }
            
            if (email.trim() === '') {
                showToast('Por favor ingresa tu correo electrónico', 'error');
                return;
            }
            
            if (age === '') {
                showToast('Por favor selecciona tu edad', 'error');
                return;
            }
            
            if (genero.length === 0) {
                showToast('Por favor selecciona al menos un género', 'error');
                return;
            }
            
            if (rol.length === 0) {
                showToast('Por favor selecciona al menos un rol', 'error');
                return;
            }
            
            if (tribu.length === 0) {
                showToast('Por favor selecciona al menos una tribu', 'error');
                return;
            }
            
            if (preferencia.length === 0) {
                showToast('Por favor selecciona al menos una preferencia', 'error');
                return;
            }

            showLoading();
            
            // Simular proceso de creación de perfil
            setTimeout(() => {
                currentUser = {
                    id: Date.now().toString(),
                    name: name,
                    email: email,
                    age: age,
                    genero: genero,
                    rol: rol,
                    tribu: tribu,
                    preferencia: preferencia,
                    bio: bio,
                    photos: selectedPhotos.length > 0 ? selectedPhotos : ['https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=200&q=80'],
                    isPremium: false,
                    isVerified: true,
                    matches: 0,
                    lastActive: new Date().toISOString(),
                    createdAt: new Date().toISOString(),
                    subscription: null
                };

                // Guardar usuario en la lista de usuarios
                users.push(currentUser);
                
                saveDataToStorage();
                hideLoading();
                loginModal.style.display = 'none';
                showToast('¡Perfil creado con éxito!', 'success');
                
                // Actualizar interfaz
                updateInterface();
            }, 1500);
        }

        // Manejar subida de avatar
        function handleAvatarUpload(e) {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 5 * 1024 * 1024) {
                    showToast('La imagen es demasiado grande. Máximo 5MB', 'error');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    avatarUpload.innerHTML = `<img src="${e.target.result}" alt="Foto de perfil">`;
                    selectedPhotos = [e.target.result];
                    showToast('Foto de perfil actualizada', 'success');
                };
                reader.readAsDataURL(file);
            }
        }

        // Manejar like
        function handleLike() {
            const heart = heartAnimation.cloneNode(true);
            heart.querySelector('i').className = 'fas fa-heart heart-3';
            heart.classList.add('show');
            document.body.appendChild(heart);
            
            setTimeout(() => {
                document.body.removeChild(heart);
            }, 1000);
            
            // Simular match
            setTimeout(() => {
                showToast('¡Match! Ahora puedes conversar con Alex', 'success');
                
                // Crear un nuevo match
                const newMatch = {
                    id: Date.now().toString(),
                    userId: currentUser.id,
                    matchedUserId: '1', // ID de Alex
                    timestamp: new Date().toISOString(),
                    messages: []
                };
                
                matches.push(newMatch);
                saveDataToStorage();
                
                // Actualizar contador de notificaciones
                updateNotificationCount();
            }, 500);
        }

        // Manejar super like
        function handleSuperLike() {
            const heart = heartAnimation.cloneNode(true);
            heart.querySelector('i').className = 'fas fa-star heart-5';
            heart.classList.add('show');
            document.body.appendChild(heart);
            
            setTimeout(() => {
                document.body.removeChild(heart);
            }, 1000);
            
            // Simular super like
            setTimeout(() => {
                showToast('¡Super Like enviado! Alex será notificado', 'success');
                
                // Crear una nueva notificación
                const newNotification = {
                    id: Date.now().toString(),
                    type: 'superlike',
                    from: currentUser.name,
                    avatar: currentUser.photos[0],
                    message: 'te dio "Super Like"',
                    time: 'Hace unos momentos',
                    read: false
                };
                
                notifications.push(newNotification);
                saveDataToStorage();
                
                // Actualizar contador de notificaciones
                updateNotificationCount();
            }, 500);
        }

        // Comenzar prueba gratuita
        function startTrial() {
            showLoading();
            
            // Simular proceso de inicio de prueba
            setTimeout(() => {
                hideLoading();
                showToast('¡Prueba gratuita de 7 días iniciada! Todas las funciones Premium están ahora disponibles.', 'success');
                upgradeModal.style.display = 'none';
                
                // Actualizar estado del usuario
                if (currentUser) {
                    currentUser.isPremium = true;
                    currentUser.subscription = {
                        type: 'trial',
                        startDate: new Date().toISOString(),
                        endDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString(),
                        status: 'active'
                    };
                    
                    // Actualizar en la lista de usuarios
                    const userIndex = users.findIndex(u => u.id === currentUser.id);
                    if (userIndex !== -1) {
                        users[userIndex] = currentUser;
                    }
                    
                    saveDataToStorage();
                    updateInterface();
                }
            }, 2000);
        }

        // Confirmar actualización
        function confirmUpgrade() {
            paymentModal.style.display = 'block';
            upgradeModal.style.display = 'none';
        }

        // Manejar pago
        function handlePayment(e) {
            e.preventDefault();
            
            const cardName = document.getElementById('cardName').value;
            const cardNumber = document.getElementById('cardNumber').value;
            const expiryDate = document.getElementById('expiryDate').value;
            const cvv = document.getElementById('cvv').value;
            const postalCode = document.getElementById('postalCode').value;
            
            // Validaciones
            if (cardName.trim() === '') {
                showToast('Por favor ingresa el nombre en la tarjeta', 'error');
                return;
            }
            
            if (cardNumber.replace(/\s/g, '').length !== 16) {
                showToast('Número de tarjeta inválido', 'error');
                return;
            }
            
            if (!/^\d{2}\/\d{2}$/.test(expiryDate)) {
                showToast('Fecha de vencimiento inválida (MM/AA)', 'error');
                return;
            }
            
            if (cvv.length !== 3) {
                showToast('CVV inválido', 'error');
                return;
            }
            
            if (postalCode.trim() === '') {
                showToast('Por favor ingresa el código postal', 'error');
                return;
            }

            showLoading();
            
            // Simular proceso de pago
            setTimeout(() => {
                hideLoading();
                showToast('¡Pago exitoso! Suscripción Premium activada.', 'success');
                paymentModal.style.display = 'none';
                
                // Actualizar estado del usuario
                if (currentUser) {
                    currentUser.isPremium = true;
                    currentUser.subscription = {
                        type: 'monthly',
                        startDate: new Date().toISOString(),
                        nextBillingDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),
                        status: 'active',
                        amount: 9.99
                    };
                    
                    // Actualizar en la lista de usuarios
                    const userIndex = users.findIndex(u => u.id === currentUser.id);
                    if (userIndex !== -1) {
                        users[userIndex] = currentUser;
                    }
                    
                    saveDataToStorage();
                    updateInterface();
                }
            }, 2000);
        }

        // Mostrar pestaña
        function showTab(tabId) {
            // Ocultar todos los contenidos
            document.getElementById('discoverContent').style.display = 'none';
            document.getElementById('matchesContent').style.display = 'none';
            document.getElementById('messagesContent').style.display = 'none';
            document.getElementById('profileContent').style.display = 'none';
            
            // Mostrar el contenido seleccionado
            document.getElementById(tabId + 'Content').style.display = 'block';
            
            // Actualizar estilos de navegación
            document.getElementById('tabDiscover').className = 'tab-inactive flex-1 py-3 px-4 text-sm font-medium rounded-lg flex items-center justify-center space-x-1';
            document.getElementById('tabMatches').className = 'tab-inactive flex-1 py-3 px-4 text-sm font-medium rounded-lg flex items-center justify-center space-x-1';
            document.getElementById('tabMessages').className = 'tab-inactive flex-1 py-3 px-4 text-sm font-medium rounded-lg flex items-center justify-center space-x-1';
            document.getElementById('tabProfile').className = 'tab-inactive flex-1 py-3 px-4 text-sm font-medium rounded-lg flex items-center justify-center space-x-1';
            
            document.getElementById('tab' + tabId.charAt(0).toUpperCase() + tabId.slice(1)).className = 'tab-active flex-1 py-3 px-4 text-sm font-medium rounded-lg flex items-center justify-center space-x-1';
            
            currentTab = tabId;
            
            // Cargar contenido específico de la pestaña
            if (tabId === 'matches') {
                loadMatches();
            } else if (tabId === 'messages') {
                loadMessages();
            } else if (tabId === 'profile') {
                loadProfile();
            }
        }

        // Cargar matches
        function loadMatches() {
            const matchesContent = document.getElementById('matchesContent');
            matchesContent.innerHTML = '';
            
            const userMatches = matches.filter(match => match.userId === currentUser.id);
            
            if (userMatches.length === 0) {
                matchesContent.innerHTML = `
                    <div class="card p-4 text-center">
                        <i class="fas fa-heart text-4xl text-gray-400 mb-4"></i>
                        <h3 class="text-lg font-semibold mb-2">Aún no tienes matches</h3>
                        <p class="text-gray-400">Sigue explorando perfiles y dando likes para encontrar matches.</p>
                    </div>
                `;
                return;
            }
            
            userMatches.forEach(match => {
                const matchedUser = users.find(user => user.id === match.matchedUserId);
                if (matchedUser) {
                    const matchElement = document.createElement('div');
                    matchElement.className = 'card p-4';
                    matchElement.innerHTML = `
                        <div class="flex items-center space-x-3 mb-4">
                            <img src="${matchedUser.photos[0]}" alt="${matchedUser.name}" class="w-12 h-12 rounded-full object-cover">
                            <div>
                                <h3 class="font-semibold">${matchedUser.name}, ${matchedUser.age}</h3>
                                <p class="text-sm text-gray-400">Hace 2 horas</p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-4">"¡Hola! Me encantaría conocerte mejor. ¿Te gustaría tomar un café?"</p>
                        <div class="flex space-x-2">
                            <button class="btn-primary flex-1">
                                <i class="fas fa-comment mr-2"></i> Enviar mensaje
                            </button>
                            <button class="btn-outline">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    `;
                    matchesContent.appendChild(matchElement);
                }
            });
        }

        // Cargar mensajes
        function loadMessages() {
            const messagesContent = document.getElementById('messagesContent');
            messagesContent.innerHTML = '';
            
            const userMatches = matches.filter(match => match.userId === currentUser.id);
            
            if (userMatches.length === 0) {
                messagesContent.innerHTML = `
                    <div class="card p-4 text-center">
                        <i class="fas fa-comments text-4xl text-gray-400 mb-4"></i>
                        <h3 class="text-lg font-semibold mb-2">Aún no tienes mensajes</h3>
                        <p class="text-gray-400">Cuando tengas matches, podrás enviar y recibir mensajes aquí.</p>
                    </div>
                `;
                return;
            }
            
            userMatches.forEach(match => {
                const matchedUser = users.find(user => user.id === match.matchedUserId);
                if (matchedUser) {
                    const messageElement = document.createElement('div');
                    messageElement.className = 'card';
                    messageElement.innerHTML = `
                        <div class="p-4 border-b border-gray-800">
                            <div class="flex items-center space-x-3">
                                <img src="${matchedUser.photos[0]}" alt="${matchedUser.name}" class="w-10 h-10 rounded-full object-cover">
                                <div>
                                    <h3 class="font-semibold">${matchedUser.name}, ${matchedUser.age}</h3>
                                    <p class="text-xs text-green-400">En línea ahora</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-4 messages-list">
                            <div class="message message-received">
                                ¡Hola! Me encantaría conocerte mejor. ¿Te gustaría tomar un café?
                            </div>
                            <div class="message message-sent">
                                Hola ${matchedUser.name}, suena interesante. ¿Dónde y cuándo?
                            </div>
                        </div>
                        
                        <div class="p-4 border-t border-gray-800">
                            <div class="flex">
                                <input type="text" placeholder="Escribe un mensaje..." class="chat-input flex-1">
                                <button class="send-btn">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    `;
                    messagesContent.appendChild(messageElement);
                }
            });
        }

        // Cargar perfil
        function loadProfile() {
            const profileContent = document.getElementById('profileContent');
            
            if (!currentUser) return;
            
            profileContent.innerHTML = `
                <div class="card">
                    <div class="profile-header">
                        <img src="https://images.unsplash.com/photo-1579532560492-bd2168e74615?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Fondo de perfil">
                        <img src="${currentUser.photos[0]}" alt="Perfil" class="profile-avatar">
                    </div>
                    <div class="profile-info">
                        <div class="flex items-center space-x-2 mb-2">
                            <h2 class="text-2xl font-bold">${currentUser.name}, ${currentUser.age}</h2>
                            ${currentUser.isPremium ? '<div class="premium-tag"><i class="fas fa-crown"></i> Premium</div>' : ''}
                            <div class="verified-tag">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        <p class="text-gray-400 mb-3">${currentUser.profession || 'Usuario de Privado'}</p>
                        <p class="text-sm text-gray-400 mb-4">"${currentUser.bio || 'Apasionado por conectar con personas interesantes.'}"</p>
                        
                        <div class="flex flex-wrap gap-2 mb-4">
                            ${currentUser.tribu ? currentUser.tribu.map(t => `<span class="badge badge-primary">${t}</span>`).join('') : ''}
                            ${currentUser.preferencia ? currentUser.preferencia.map(p => `<span class="badge badge-success">${p}</span>`).join('') : ''}
                        </div>
                        
                        <div class="flex space-x-2">
                            <button id="editProfileBtn" class="btn-outline flex-1">
                                <i class="fas fa-edit"></i> Editar perfil
                            </button>
                            <button id="settingsBtn" class="btn-outline">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="p-4">
                        <h3 class="text-lg font-semibold mb-4">Estadísticas</h3>
                        <div class="grid grid-cols-3 gap-4 text-center">
                            <div>
                                <div class="text-2xl font-bold text-purple-400">${matches.filter(m => m.userId === currentUser.id).length}</div>
                                <div class="text-sm text-gray-400">Matches</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-green-400">${notifications.filter(n => n.type === 'like').length}</div>
                                <div class="text-sm text-gray-400">Likes</div>
                            </div>
                            <div>
                                <div class="text-2xl font-bold text-blue-400">${Math.floor(Math.random() * 100)}</div>
                                <div class="text-sm text-gray-400">Vistas</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="p-4">
                        <h3 class="text-lg font-semibold mb-4">Galería</h3>
                        <div class="grid grid-cols-3 gap-2">
                            ${currentUser.photos.map(photo => `
                                <img src="${photo}" alt="Foto" class="w-full h-20 object-cover rounded">
                            `).join('')}
                            <div class="w-full h-20 bg-gray-700 rounded flex items-center justify-center">
                                <span class="text-gray-400 text-sm">+3 más</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Cargar notificaciones
        function loadNotifications() {
            const notificationsList = document.getElementById('notificationsList');
            notificationsList.innerHTML = '';
            
            if (notifications.length === 0) {
                notificationsList.innerHTML = `
                    <div class="text-center py-4">
                        <i class="fas fa-bell-slash text-2xl text-gray-400 mb-2"></i>
                        <p class="text-gray-400">No tienes notificaciones</p>
                    </div>
                `;
                return;
            }
            
            notifications.forEach(notification => {
                const notificationElement = document.createElement('div');
                notificationElement.className = 'flex items-start space-x-3 p-3 bg-gray-800/70 backdrop-blur-sm rounded-lg';
                notificationElement.innerHTML = `
                    <div class="w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-white"><strong>${notification.from}</strong> ${notification.message}</p>
                        <p class="text-gray-400 text-sm">${notification.time}</p>
                    </div>
                `;
                notificationsList.appendChild(notificationElement);
            });
        }

        // Actualizar contador de notificaciones
        function updateNotificationCount() {
            const unreadCount = notifications.filter(n => !n.read).length;
            document.getElementById('notificationCount').textContent = unreadCount;
        }

        // Actualizar interfaz
        function updateInterface() {
            if (currentUser) {
                loadProfile();
                updateNotificationCount();
            }
        }

        // Inicializar la aplicación cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
